<!DOCTYPE html>
<html>
<head>
<title>index</title>
<style>
body { font-family: sans-serif; }
h1 { font-size: 64px; margin: 0px; text-align: center; }
</style>
</head>
<body>

<h1>hello world</h1>
<img src="gearvr_logo.jpg" width="500px" height="455px">

<script src="navi.js"></script>
<script>

var frame = 0;
var time = Date.now();
var dt = 0;

document.addEventListener("click", function(event){
    NAVI.showToast("clicked pg @ "+ event.pageX +","+ event.pageY);
}, false);

setTimeout(function(){

    NAVI.setValue("rate", "3");

    NAVI.createObject("cube-obj", "cube");

}, 5*1000);

setTimeout(function(){

    step();

}, 15*1000);

setTimeout(function(){

    NAVI.setBackgroundColor("#883399");

}, 10*1000);

var angle = 0.0;
var axis = [0,1,0];

var radius = 3;
var x = 0;
var y = 0;
function step() {
    requestAnimationFrame(step);

    if (frame++ % 2) // 30fps
        return;

    NAVI.rotateObject("cube-obj", angle, axis[0], axis[1], axis[2]);

    angle += parseFloat( NAVI.getValue("rate") );

    NAVI.moveObject("cube-obj", x, 0, y);
    x = Math.cos(frame/60) * radius;
    y = Math.sin(frame/60) * radius;


    dt = Date.now() - time;
    time = Date.now();
}

</script>

</body>
</html>